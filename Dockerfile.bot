# syntax=docker/dockerfile:1
FROM python:3.11-slim

WORKDIR /app
COPY pyproject.toml README.md ./
COPY src ./src

RUN pip install --no-cache-dir "pip<25.0" hatchling setuptools wheel

ENV PIP_NO_BUILD_ISOLATION=1
RUN pip install --no-cache-dir ".[bot]"

ENV PYTHONUNBUFFERED=1
CMD ["weavelens-bot"]
