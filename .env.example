########################
# РЕЖИМЫ И ПРОФИЛИ     #
########################
# offline-тоггл (обычно не нужен)
WEAVELENS_OFFLINE=false
# server | embedded
WEAVELENS_PROFILE=server

########################
# WEAVIATE (SERVER)     #
########################
WEAVIATE_HOST=weaviate
WEAVIATE_PORT=8080
WEAVIATE_SCHEME=http
WEAVIATE_API_KEY=

########################
# WEAVIATE (EMBEDDED)   #
########################
WEAVIATE_EMBEDDED_DATA_PATH=/app/data/weaviate

########################
# ЭМБЕДДИНГИ            #
########################
EMB_MODEL_NAME=BAAI/bge-m3
EMB_DEVICE=cpu           # cpu|cuda
EMB_MAX_SEQ=1024

########################
# LLM / OLLAMA          #
########################
# Для локальной разработки укажите хост, где работает ollama:
#   - локально на хосте:     OLLAMA_HOST=localhost
#   - в docker-compose:      контейнер переопределяет на deployment-ollama-1
OLLAMA_HOST=localhost
OLLAMA_PORT=11434
# Аппаратное ускорение LLM: cpu | gpu
LLM_ACCEL=gpu            # для GPU нужен NVIDIA Container Toolkit
OLLAMA_MODEL_CPU=qwen2.5:3b-instruct-q4_0
OLLAMA_MODEL_GPU=qwen2.5:7b-instruct-q4_0
# Слои на GPU (уменьшайте для экономии VRAM)
OLLAMA_NUM_GPU_LAYERS=999

########################
# FASTAPI               #
########################
API_HOST=0.0.0.0
API_PORT=8000
# Обязательно замените секрет на свой
JWT_SECRET=CHANGE_ME_PLEASE
# Префикс API (опционально, по умолчанию /api)
# API_PREFIX=/api

########################
# TELEGRAM БОТ          #
########################
# Токен бота (получите у @BotFather)
TG_BOT_TOKEN=REPLACE_ME
# Разрешённые Telegram-ID через запятую (пусто = бот доступен всем)
TG_ALLOWLIST=
# Базовый URL API для бота (в docker-compose проставляется автоматически)
BOT_API_URL=http://api:8000/api

# --- Корпоративная сеть / прокси ---
# Если из корпоративной сети блокируется доступ к api.telegram.org,
# укажите HTTP(S) прокси (можно с авторизацией). Примеры:
# TG_PROXY_URL=http://proxy.corp.local:3128
# TG_PROXY_URL=http://user:pass@proxy.corp.local:3128
# Либо раздельно:
# TG_PROXY_USERNAME=
# TG_PROXY_PASSWORD=
#
# Также можно указать альтернативную базу Telegram Bot API
# (например, self-hosted Telegram Bot API):
# TG_API_BASE=https://tg.example.com

########################
# ПУТИ                  #
########################
DATA_INBOX=/app/data/inbox
DATA_SOURCES=/app/data/sources
DATA_PROCESSED=/app/data/processed
MODELS_CACHE=/app/models/cache

########################
# БЕЗОПАСНОСТЬ          #
########################
ENCRYPT_CONTENT=false
# Сгенерируйте ключ (например, python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
FERNET_KEY=

########################
# OCR / ИЗВЛЕЧЕНИЕ      #
########################
# Включить OCR (для изображений и сканов в PDF)
OCR_ENABLED=true
# Языки Tesseract: "eng", "rus", "rus+eng" и т.п.
OCR_LANGS=rus+eng
# Масштаб рендера страниц PDF для OCR (~144 DPI при 2.0)
OCR_PDF_ZOOM=2.0
# Порог длины текста страницы PDF для запуска OCR
OCR_MIN_PAGE_TEXT_LEN=20
